<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>JS Console - Example</title>
	<link href="styles/js-console.css" rel="stylesheet" />
	<style>
		input[type=text]{
			border:1px solid black;
			padding:5px 15px;
			background-color:black;
			color:white;
			font-family:Consolas;		   
			margin-bottom:5px;
		}

		a{
			color:black;
			border:1px solid black;
			padding:5px 15px;						
			text-decoration:none;	   
			display:inline-block;		 
			margin: 15px 0;
		}

		a:hover{
			text-decoration:underline;
		}
	</style>
</head>
<body>
	<div id="js-console">
	</div>
	<script src="scripts/js-console.js">	  
	</script>		  
	<script>
	    function Solve(args)
	    {
	        var arrSides = args[0].split(" ");

	        var row = parseInt(arrSides[0]);
	        var col = parseInt(arrSides[1]);

	        var startPoint = args[1].split(" ");
	        var startRow = parseInt(startPoint[0]);
	        var startCol = parseInt(startPoint[1]);
	        //var row = parseInt(arrSides[0]);
	        //var col = parseInt(arrSides[1]);
	      

	        //var startPoint = args[1].split(" ");

	        //var startRow = parseInt(startPoint[0]);
	        //var startCol = parseInt(startPoint[1]);

	        var visitedArr = [];
	        var arr = [];
	        //var tempArr = [];
	        var tempString = "";

	        //var bestSum = 0;
	        var sum = 0;

	        var out = "out ";
	        var lost = "lost ";

	        for (var i = 0; i < row; i++)
	        {
	            var tempArr = [];
	            visitedArr[i] = [];
	            tempString = args[i + 2];
	            for (var j = 0; j < col; j++)
	            {
	                tempArr[j] = tempString[j];
	                visitedArr[i][j] = 0;
	            }
	            arr.push(tempArr);
	        }

	        var currentRow = startRow;
	        var currentCol = startCol;
	        while (currentRow >= 0 && currentRow < row && currentCol >= 0 && currentCol < col && visitedArr[currentRow][currentCol] !== 1)
	        {
	            sum = sum + currentRow * col + currentCol + 1;
	            visitedArr[currentRow][currentCol] = 1;
	            if (arr[currentRow][currentCol] == "l")
	            {
	                currentCol--;
	            }
	            if (arr[currentRow][currentCol] == "r") {
	                currentCol++;
	            }
	            if (arr[currentRow][currentCol] == "u") {
	                currentRow--;
	            }
	            if (arr[currentRow][currentCol] == "d") {
	                currentRow++;
	            }
	        }

	       

	        if (visitedArr[currentRow][currentCol] != 0)
	        {
	            return "lost "+sum;
	        }
	        else
	        {
	            return "out "+sum;
	        }
	    }

	       
	        //for (i = 1; i <= n; i++)
	        //{
	        //    tempArr = args[i].split(", ");
	        //    visitedArr[i - 1] = new Array();
	        //    for (j = 0; j < tempArr.length; j++)
	        //    {
	        //        tempArr[j] = parseInt(tempArr[j]);
	        //        visitedArr[i - 1][j] = 0;
	        //    }
	        //    arr.push(tempArr);
	        //}

	        //for (i = 0; i < arr[0].length; i++)
	        //{
	        //    row = 0;
	        //    col = i;
	        //    while (arr[row][col] >= 0 && visitedArr[row][col] !== 1)
	        //    {
	        //        visitedArr[row][col] = 1;
	        //        col = arr[row][col];
	        //        row++;
	        //        if (row === n)
	        //        {
	        //            row = 0;
	        //        }
	        //        tempSpecialValue++;	            
	        //    }
	        //    if (visitedArr[row][col]===0)
	        //    {
	        //        tempSpecialValue += Math.abs(arr[row][col]);
	        //        if (maxSpecialValue < tempSpecialValue)
	        //        {
	        //            maxSpecialValue = tempSpecialValue;
	        //        }
	        //    }

	        //    for (k = 0; k < n; k++)
	        //    {
	        //        for (l = 0; l < visitedArr[k].length; l++)
	        //        {
	        //            if (visitedArr[k][l] === 1)
	        //            {
	        //                visitedArr[k][l] = 0;
	        //            }
	        //        }
	        //    }
	        //    tempSpecialValue = 1;
	        //}
	        //return maxSpecialValue;

	    

	    function handleIO() {
	        var args = [];
	        args[0] = "3 4";
	        args[0] = "1 3";
	        args[0] = "lrrd";
	        args[0] = "dlll";
	        args[0] = "rddd";
	        jsConsole.writeLine(Solve(args));
	    }
	    handleIO();
	</script>			  
</body>
</html>
